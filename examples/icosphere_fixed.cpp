#include "../src/a1.hpp"
#include <glm/gtc/matrix_transform.hpp>
// Program with perspective correct interpolation of vertex attributes.

namespace R = COL781::Software;
// namespace R = COL781::Hardware;
using namespace glm;
int main() {
	R::Rasterizer r;
	int width = 640, height = 480;
    if (!r.initialize("Example 6", width, height,2))
        return EXIT_FAILURE;

    R::ShaderProgram program = r.createShaderProgram(
        r.vsNormalTransform(),
        // r.fsDiffuseLighting()
        r.fsSpecularLighting()
    );

    float vertices[] = 
    {
      0.000000, -0.500000, 0.000000, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
0.361804, -0.223610, 0.262863, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.000000, -0.500000, 0.000000, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
0.000000, -0.500000, 0.000000, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
0.000000, -0.500000, 0.000000, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
0.361804, -0.223610, 0.262863, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
-0.138194, -0.223610, 0.425325, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
-0.447213, -0.223608, 0.000000, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.138194, -0.223610, -0.425325, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
0.361804, -0.223610, -0.262863, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.361804, -0.223610, 0.262863, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
-0.138194, -0.223610, 0.425325, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
-0.447213, -0.223608, 0.000000, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.138194, -0.223610, -0.425325, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
0.361804, -0.223610, -0.262863, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.138194, 0.223610, 0.425325, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
-0.361804, 0.223610, 0.262863, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
-0.361804, 0.223610, -0.262863, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
0.138194, 0.223610, -0.425325, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
0.447213, 0.223608, 0.000000, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
0.000000, 0.500000, 0.000000, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.138194, 0.223610, -0.425325, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
0.000000, 0.500000, 0.000000, 1.00 ,
0.081228, 0.425327, -0.249998, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
-0.361804, 0.223610, -0.262863, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
0.000000, 0.500000, 0.000000, 1.00 ,
-0.212661, 0.425327, -0.154506, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.361804, 0.223610, 0.262863, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
0.000000, 0.500000, 0.000000, 1.00 ,
-0.212661, 0.425327, 0.154506, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
0.138194, 0.223610, 0.425325, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.000000, 0.500000, 0.000000, 1.00 ,
0.081228, 0.425327, 0.249998, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.447213, 0.223608, 0.000000, 1.00 ,
0.262865, 0.425326, 0.000000, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.447213, 0.223608, 0.000000, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.138194, 0.223610, -0.425325, 1.00 ,
0.344095, 0.262868, -0.249998, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
0.138194, 0.223610, -0.425325, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
-0.361804, 0.223610, -0.262863, 1.00 ,
-0.131434, 0.262869, -0.404506, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.361804, 0.223610, -0.262863, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.361804, 0.223610, 0.262863, 1.00 ,
-0.425324, 0.262868, 0.000000, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
-0.361804, 0.223610, 0.262863, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
0.138194, 0.223610, 0.425325, 1.00 ,
-0.131434, 0.262869, 0.404506, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.138194, 0.223610, 0.425325, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
0.447213, 0.223608, 0.000000, 1.00 ,
0.344095, 0.262868, 0.249998, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
0.138194, 0.223610, -0.425325, 1.00 ,
0.293893, 0.000000, -0.404508, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
-0.138194, -0.223610, -0.425325, 1.00 ,
0.000000, 0.000000, -0.500000, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.361804, 0.223610, -0.262863, 1.00 ,
-0.293893, 0.000000, -0.404508, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.447213, -0.223608, 0.000000, 1.00 ,
-0.475529, 0.000000, -0.154506, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
-0.361804, 0.223610, 0.262863, 1.00 ,
-0.475529, 0.000000, 0.154506, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
-0.138194, -0.223610, 0.425325, 1.00 ,
-0.293893, 0.000000, 0.404508, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
0.138194, 0.223610, 0.425325, 1.00 ,
0.000000, 0.000000, 0.500000, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,
0.361804, -0.223610, 0.262863, 1.00 ,
0.293893, 0.000000, 0.404508, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.447213, 0.223608, 0.000000, 1.00 ,
0.475529, 0.000000, 0.154506, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.361804, -0.223610, -0.262863, 1.00 ,
0.475529, 0.000000, -0.154506, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
0.361804, -0.223610, -0.262863, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
-0.138194, -0.223610, -0.425325, 1.00 ,
0.131434, -0.262869, -0.404506, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.138194, -0.223610, -0.425325, 1.00 ,
-0.081228, -0.425327, -0.249998, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
-0.447213, -0.223608, 0.000000, 1.00 ,
-0.344095, -0.262868, -0.249998, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
-0.447213, -0.223608, 0.000000, 1.00 ,
-0.262865, -0.425326, 0.000000, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
-0.138194, -0.223610, 0.425325, 1.00 ,
-0.344095, -0.262868, 0.249998, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
0.361804, -0.223610, -0.262863, 1.00 ,
0.425324, -0.262868, 0.000000, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
0.000000, -0.500000, 0.000000, 1.00 ,
0.212661, -0.425327, -0.154506, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,
-0.138194, -0.223610, 0.425325, 1.00 ,
-0.081228, -0.425327, 0.249998, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,
0.212661, -0.425327, 0.154506, 1.00 ,
0.361804, -0.223610, 0.262863, 1.00 ,
0.131434, -0.262869, 0.404506, 1.00 ,

    };

    float normals[] = {
0.1024, -0.9435, 0.3151,
0.1024, -0.9435, 0.3151,
0.1024, -0.9435, 0.3151,
0.7002, -0.6617, 0.2680,
0.7002, -0.6617, 0.2680,
0.7002, -0.6617, 0.2680,
-0.2680, -0.9435, 0.1947,
-0.2680, -0.9435, 0.1947,
-0.2680, -0.9435, 0.1947,
-0.2680, -0.9435, -0.1947,
-0.2680, -0.9435, -0.1947,
-0.2680, -0.9435, -0.1947,
0.1024, -0.9435, -0.3151,
0.1024, -0.9435, -0.3151,
0.1024, -0.9435, -0.3151,
0.9050, -0.3304, 0.2680,
0.9050, -0.3304, 0.2680,
0.9050, -0.3304, 0.2680,
0.0247, -0.3304, 0.9435,
0.0247, -0.3304, 0.9435,
0.0247, -0.3304, 0.9435,
-0.8897, -0.3304, 0.3151,
-0.8897, -0.3304, 0.3151,
-0.8897, -0.3304, 0.3151,
-0.5746, -0.3304, -0.7488,
-0.5746, -0.3304, -0.7488,
-0.5746, -0.3304, -0.7488,
0.5346, -0.3304, -0.7779,
0.5346, -0.3304, -0.7779,
0.5346, -0.3304, -0.7779,
0.8026, -0.1256, 0.5831,
0.8026, -0.1256, 0.5831,
0.8026, -0.1256, 0.5831,
-0.3066, -0.1256, 0.9435,
-0.3066, -0.1256, 0.9435,
-0.3066, -0.1256, 0.9435,
-0.9921, -0.1256, -0.0000,
-0.9921, -0.1256, -0.0000,
-0.9921, -0.1256, -0.0000,
-0.3066, -0.1256, -0.9435,
-0.3066, -0.1256, -0.9435,
-0.3066, -0.1256, -0.9435,
0.8026, -0.1256, -0.5831,
0.8026, -0.1256, -0.5831,
0.8026, -0.1256, -0.5831,
0.4089, 0.6617, 0.6284,
0.4089, 0.6617, 0.6284,
0.4089, 0.6617, 0.6284,
-0.4713, 0.6617, 0.5831,
-0.4713, 0.6617, 0.5831,
-0.4713, 0.6617, 0.5831,
-0.7002, 0.6617, -0.2680,
-0.7002, 0.6617, -0.2680,
-0.7002, 0.6617, -0.2680,
0.0385, 0.6617, -0.7488,
0.0385, 0.6617, -0.7488,
0.0385, 0.6617, -0.7488,
0.7240, 0.6617, -0.1947,
0.7240, 0.6617, -0.1947,
0.7240, 0.6617, -0.1947,
0.2680, 0.9435, -0.1947,
0.2680, 0.9435, -0.1947,
0.2680, 0.9435, -0.1947,
0.4911, 0.7947, -0.3568,
0.4911, 0.7947, -0.3568,
0.4911, 0.7947, -0.3568,
0.4089, 0.6617, -0.6284,
0.4089, 0.6617, -0.6284,
0.4089, 0.6617, -0.6284,
-0.1024, 0.9435, -0.3151,
-0.1024, 0.9435, -0.3151,
-0.1024, 0.9435, -0.3151,
-0.1876, 0.7947, -0.5773,
-0.1876, 0.7947, -0.5773,
-0.1876, 0.7947, -0.5773,
-0.4713, 0.6617, -0.5831,
-0.4713, 0.6617, -0.5831,
-0.4713, 0.6617, -0.5831,
-0.3313, 0.9435, -0.0000,
-0.3313, 0.9435, -0.0000,
-0.3313, 0.9435, -0.0000,
-0.6071, 0.7947, -0.0000,
-0.6071, 0.7947, -0.0000,
-0.6071, 0.7947, -0.0000,
-0.7002, 0.6617, 0.2680,
-0.7002, 0.6617, 0.2680,
-0.7002, 0.6617, 0.2680,
-0.1024, 0.9435, 0.3151,
-0.1024, 0.9435, 0.3151,
-0.1024, 0.9435, 0.3151,
-0.1876, 0.7947, 0.5773,
-0.1876, 0.7947, 0.5773,
-0.1876, 0.7947, 0.5773,
0.0385, 0.6617, 0.7488,
0.0385, 0.6617, 0.7488,
0.0385, 0.6617, 0.7488,
0.2680, 0.9435, 0.1947,
0.2680, 0.9435, 0.1947,
0.2680, 0.9435, 0.1947,
0.4911, 0.7947, 0.3568,
0.4911, 0.7947, 0.3568,
0.4911, 0.7947, 0.3568,
0.7240, 0.6617, 0.1947,
0.7240, 0.6617, 0.1947,
0.7240, 0.6617, 0.1947,
0.8897, 0.3304, -0.3151,
0.8897, 0.3304, -0.3151,
0.8897, 0.3304, -0.3151,
0.7947, 0.1876, -0.5773,
0.7947, 0.1876, -0.5773,
0.7947, 0.1876, -0.5773,
0.5746, 0.3304, -0.7488,
0.5746, 0.3304, -0.7488,
0.5746, 0.3304, -0.7488,
-0.0247, 0.3304, -0.9435,
-0.0247, 0.3304, -0.9435,
-0.0247, 0.3304, -0.9435,
-0.3035, 0.1876, -0.9342,
-0.3035, 0.1876, -0.9342,
-0.3035, 0.1876, -0.9342,
-0.5346, 0.3304, -0.7779,
-0.5346, 0.3304, -0.7779,
-0.5346, 0.3304, -0.7779,
-0.9050, 0.3304, -0.2680,
-0.9050, 0.3304, -0.2680,
-0.9050, 0.3304, -0.2680,
-0.9822, 0.1876, -0.0000,
-0.9822, 0.1876, -0.0000,
-0.9822, 0.1876, -0.0000,
-0.9050, 0.3304, 0.2680,
-0.9050, 0.3304, 0.2680,
-0.9050, 0.3304, 0.2680,
-0.5346, 0.3304, 0.7779,
-0.5346, 0.3304, 0.7779,
-0.5346, 0.3304, 0.7779,
-0.3035, 0.1876, 0.9342,
-0.3035, 0.1876, 0.9342,
-0.3035, 0.1876, 0.9342,
-0.0247, 0.3304, 0.9435,
-0.0247, 0.3304, 0.9435,
-0.0247, 0.3304, 0.9435,
0.5746, 0.3304, 0.7488,
0.5746, 0.3304, 0.7488,
0.5746, 0.3304, 0.7488,
0.7947, 0.1876, 0.5773,
0.7947, 0.1876, 0.5773,
0.7947, 0.1876, 0.5773,
0.8897, 0.3304, 0.3151,
0.8897, 0.3304, 0.3151,
0.8897, 0.3304, 0.3151,
0.3066, 0.1256, -0.9435,
0.3066, 0.1256, -0.9435,
0.3066, 0.1256, -0.9435,
0.3035, -0.1876, -0.9342,
0.3035, -0.1876, -0.9342,
0.3035, -0.1876, -0.9342,
0.0247, -0.3304, -0.9435,
0.0247, -0.3304, -0.9435,
0.0247, -0.3304, -0.9435,
-0.8026, 0.1256, -0.5831,
-0.8026, 0.1256, -0.5831,
-0.8026, 0.1256, -0.5831,
-0.7947, -0.1876, -0.5773,
-0.7947, -0.1876, -0.5773,
-0.7947, -0.1876, -0.5773,
-0.8897, -0.3304, -0.3151,
-0.8897, -0.3304, -0.3151,
-0.8897, -0.3304, -0.3151,
-0.8026, 0.1256, 0.5831,
-0.8026, 0.1256, 0.5831,
-0.8026, 0.1256, 0.5831,
-0.7947, -0.1876, 0.5773,
-0.7947, -0.1876, 0.5773,
-0.7947, -0.1876, 0.5773,
-0.5746, -0.3304, 0.7488,
-0.5746, -0.3304, 0.7488,
-0.5746, -0.3304, 0.7488,
0.3066, 0.1256, 0.9435,
0.3066, 0.1256, 0.9435,
0.3066, 0.1256, 0.9435,
0.3035, -0.1876, 0.9342,
0.3035, -0.1876, 0.9342,
0.3035, -0.1876, 0.9342,
0.5346, -0.3304, 0.7779,
0.5346, -0.3304, 0.7779,
0.5346, -0.3304, 0.7779,
0.9921, 0.1256, -0.0000,
0.9921, 0.1256, -0.0000,
0.9921, 0.1256, -0.0000,
0.9822, -0.1876, -0.0000,
0.9822, -0.1876, -0.0000,
0.9822, -0.1876, -0.0000,
0.9050, -0.3304, -0.2680,
0.9050, -0.3304, -0.2680,
0.9050, -0.3304, -0.2680,
0.4713, -0.6617, -0.5831,
0.4713, -0.6617, -0.5831,
0.4713, -0.6617, -0.5831,
0.1876, -0.7947, -0.5773,
0.1876, -0.7947, -0.5773,
0.1876, -0.7947, -0.5773,
-0.0385, -0.6617, -0.7488,
-0.0385, -0.6617, -0.7488,
-0.0385, -0.6617, -0.7488,
-0.4089, -0.6617, -0.6284,
-0.4089, -0.6617, -0.6284,
-0.4089, -0.6617, -0.6284,
-0.4911, -0.7947, -0.3568,
-0.4911, -0.7947, -0.3568,
-0.4911, -0.7947, -0.3568,
-0.7240, -0.6617, -0.1947,
-0.7240, -0.6617, -0.1947,
-0.7240, -0.6617, -0.1947,
-0.7240, -0.6617, 0.1947,
-0.7240, -0.6617, 0.1947,
-0.7240, -0.6617, 0.1947,
-0.4911, -0.7947, 0.3568,
-0.4911, -0.7947, 0.3568,
-0.4911, -0.7947, 0.3568,
-0.4089, -0.6617, 0.6284,
-0.4089, -0.6617, 0.6284,
-0.4089, -0.6617, 0.6284,
0.7002, -0.6617, -0.2680,
0.7002, -0.6617, -0.2680,
0.7002, -0.6617, -0.2680,
0.6071, -0.7947, -0.0000,
0.6071, -0.7947, -0.0000,
0.6071, -0.7947, -0.0000,
0.3313, -0.9435, -0.0000,
0.3313, -0.9435, -0.0000,
0.3313, -0.9435, -0.0000,
-0.0385, -0.6617, 0.7488,
-0.0385, -0.6617, 0.7488,
-0.0385, -0.6617, 0.7488,
0.1876, -0.7947, 0.5773,
0.1876, -0.7947, 0.5773,
0.1876, -0.7947, 0.5773,
0.4713, -0.6617, 0.5831,
0.4713, -0.6617, 0.5831,
0.4713, -0.6617, 0.5831,
    };

    int triangles[] = 
    {
0, 1, 2,
3, 4, 5,
6, 7, 8,
9, 10, 11,
12, 13, 14,
15, 16, 17,
18, 19, 20,
21, 22, 23,
24, 25, 26,
27, 28, 29,
30, 31, 32,
33, 34, 35,
36, 37, 38,
39, 40, 41,
42, 43, 44,
45, 46, 47,
48, 49, 50,
51, 52, 53,
54, 55, 56,
57, 58, 59,
60, 61, 62,
63, 64, 65,
66, 67, 68,
69, 70, 71,
72, 73, 74,
75, 76, 77,
78, 79, 80,
81, 82, 83,
84, 85, 86,
87, 88, 89,
90, 91, 92,
93, 94, 95,
96, 97, 98,
99, 100, 101,
102, 103, 104,
105, 106, 107,
108, 109, 110,
111, 112, 113,
114, 115, 116,
117, 118, 119,
120, 121, 122,
123, 124, 125,
126, 127, 128,
129, 130, 131,
132, 133, 134,
135, 136, 137,
138, 139, 140,
141, 142, 143,
144, 145, 146,
147, 148, 149,
150, 151, 152,
153, 154, 155,
156, 157, 158,
159, 160, 161,
162, 163, 164,
165, 166, 167,
168, 169, 170,
171, 172, 173,
174, 175, 176,
177, 178, 179,
180, 181, 182,
183, 184, 185,
186, 187, 188,
189, 190, 191,
192, 193, 194,
195, 196, 197,
198, 199, 200,
201, 202, 203,
204, 205, 206,
207, 208, 209,
210, 211, 212,
213, 214, 215,
216, 217, 218,
219, 220, 221,
222, 223, 224,
225, 226, 227,
228, 229, 230,
231, 232, 233,
234, 235, 236,
237, 238, 239,
    };
    
	R::Object shape = r.createObject();
	r.setVertexAttribs(shape, 0, 240, 4, vertices);
	r.setVertexAttribs(shape, 1, 240, 3, normals);
	r.setTriangleIndices(shape, 80, triangles);
    r.enableDepthTest();
    vec3 objectColor(0.8f, 0.4f, 0.248f);
    vec3 ambientColor(0.2f, 0.1f, 0.062f);
    vec3 specularColor(0.8f, 0.8f, 0.8f);

    // The transformation matrix.
    mat4 model = mat4(1.0f);
	mat4 view = translate(mat4(1.0f), vec3(0.0f, 0.0f, -3.0f));
    view = rotate(view, radians(45.0f), vec3(1.0f, 0.0f, 0.0f));
    mat4 projection = perspective(radians(60.0f), (float)width/(float)height, 0.1f, 100.0f);

    // Lighting parameters.
    vec3 lightColor(1.0f, 1.0f, 1.0f);
    vec3 lightDir(1.0f, 1.0f, 1.0f);

    while (!r.shouldQuit()) {
        float time = SDL_GetTicks64()*1e-3;
        r.clear(vec4(0.1, 0.1, 0.1, 1.0));
        r.useShaderProgram(program);
        model = rotate(mat4(1.0f), radians(45.0f), vec3(0.0f,1.0f,0.0f));
        lightDir = vec3(cos(time), 0.5f, sin(time));
        r.setUniform(program, "transform", projection * view * model);
        r.setUniform(program, "wsTransform", model);
        r.setUniform(program, "lightColor", lightColor);
        r.setUniform(program, "lightDir", lightDir);
        r.setUniform(program, "objectColor", objectColor);
        r.setUniform(program, "ambientColor", ambientColor);
        // for specular lighting

        r.setUniform(program, "viewPos", vec3(inverse(view) * vec4(0.0f, 0.0f, 0.0f, 1.0f)));
        r.setUniform(program, "specularColor", specularColor);
        r.setUniform(program, "blinnpow", 32);
		r.drawObject(shape);
        r.show();
    }
    r.deleteShaderProgram(program);
    return EXIT_SUCCESS;
}
